## convert2ots [![Build Status](https://travis-ci.org/eternitywall/convert2ots.svg?branch=master)](https://travis-ci.org/eternitywall/convert2ots)
Convert bitcoin timestamp proof ( like Chainpoint v2 ) to OpenTimestamps proof.

#### Example
Chainpoint valid receipt from [https://github.com/chainpoint/chainpoint-validate-js](https://github.com/chainpoint/chainpoint-validate-js) and save to receipt.json
```json
{
 "@context": "https://w3id.org/chainpoint/v2",
 "type": "ChainpointSHA256v2",
 "targetHash": "bdf8c9bdf076d6aff0292a1c9448691d2ae283f2ce41b045355e2c8cb8e85ef2",
 "merkleRoot": "51296468ea48ddbcc546abb85b935c73058fd8acdb0b953da6aa1ae966581a7a",
 "proof": [
   {
     "left": "bdf8c9bdf076d6aff0292a1c9448691d2ae283f2ce41b045355e2c8cb8e85ef2"
   },
   {
     "left": "cb0dbbedb5ec5363e39be9fc43f56f321e1572cfcf304d26fc67cb6ea2e49faf"
   },
   {
     "right": "cb0dbbedb5ec5363e39be9fc43f56f321e1572cfcf304d26fc67cb6ea2e49faf"
   }
 ],
 "anchors": [
   {
     "type": "BTCOpReturn",
     "sourceId": "f3be82fe1b5d8f18e009cb9a491781289d2e01678311fe2b2e4e84381aafadee"
   }
 ]
}
```
Run conversion tool to generate receipt.ots
```
$ node index.js --chainpoint examples/chainpoint.json --output receipt.ots
```
OpenTimestamp proof info receipt.ots
```
$ ots info receipt.ots 
File sha256 hash: bdf8c9bdf076d6aff0292a1c9448691d2ae283f2ce41b045355e2c8cb8e85ef2
Timestamp:
prepend bdf8c9bdf076d6aff0292a1c9448691d2ae283f2ce41b045355e2c8cb8e85ef2 == bdf8c9bdf076d6aff0292a1c9448691d2ae283f2ce41b045355e2c8cb8e85ef2bdf8c9bdf076d6aff0292a1c9448691d2ae283f2ce41b045355e2c8cb8e85ef2
sha256 == cb0dbbedb5ec5363e39be9fc43f56f321e1572cfcf304d26fc67cb6ea2e49faf
prepend cb0dbbedb5ec5363e39be9fc43f56f321e1572cfcf304d26fc67cb6ea2e49faf == cb0dbbedb5ec5363e39be9fc43f56f321e1572cfcf304d26fc67cb6ea2e49fafcb0dbbedb5ec5363e39be9fc43f56f321e1572cfcf304d26fc67cb6ea2e49faf
sha256 == da0ed1fecac504ea4f76d241a45032fa97b9eb692614419a04c9a9c32e39df2d
append cb0dbbedb5ec5363e39be9fc43f56f321e1572cfcf304d26fc67cb6ea2e49faf == da0ed1fecac504ea4f76d241a45032fa97b9eb692614419a04c9a9c32e39df2dcb0dbbedb5ec5363e39be9fc43f56f321e1572cfcf304d26fc67cb6ea2e49faf
sha256 == 51296468ea48ddbcc546abb85b935c73058fd8acdb0b953da6aa1ae966581a7a
verify UnknownAttestation(b'h\x7f\xe3\xfey^\x9a\r', b'\xf3\xbe\x82\xfe\x1b]\x8f\x18\xe0\t\xcb\x9aI\x17\x81(\x9d.\x01g\x83\x11\xfe+.N\x848\x1a\xaf\xad\xee')
append 01000000015cd30d6bc9b8e7a92d97e011b356b09cf7306a331c8ad63605dee4776c144c9d010000006b48304502210096811a70446463269e5d258267777f1b1e8ffe9c1965866bfd1a6c0250777c9c022049b5004a006e181fc92314ede95f3761a86831c5f99937465d99de6d14388b870121035b690114679d44d75b75aa170e34596c94c778f589bcb9063b0e4e293fcacd1dffffffff020000000000000000226a20 == 51296468ea48ddbcc546abb85b935c73058fd8acdb0b953da6aa1ae966581a7a01000000015cd30d6bc9b8e7a92d97e011b356b09cf7306a331c8ad63605dee4776c144c9d010000006b48304502210096811a70446463269e5d258267777f1b1e8ffe9c1965866bfd1a6c0250777c9c022049b5004a006e181fc92314ede95f3761a86831c5f99937465d99de6d14388b870121035b690114679d44d75b75aa170e34596c94c778f589bcb9063b0e4e293fcacd1dffffffff020000000000000000226a20
prepend cd996e00000000001976a9147003cc5915f6c23fd512b38daeeecfdde7a587e988ac00000000 == cd996e00000000001976a9147003cc5915f6c23fd512b38daeeecfdde7a587e988ac0000000051296468ea48ddbcc546abb85b935c73058fd8acdb0b953da6aa1ae966581a7a01000000015cd30d6bc9b8e7a92d97e011b356b09cf7306a331c8ad63605dee4776c144c9d010000006b48304502210096811a70446463269e5d258267777f1b1e8ffe9c1965866bfd1a6c0250777c9c022049b5004a006e181fc92314ede95f3761a86831c5f99937465d99de6d14388b870121035b690114679d44d75b75aa170e34596c94c778f589bcb9063b0e4e293fcacd1dffffffff020000000000000000226a20
sha256 == d7a6eeaf0bc92f64d2a4ede0111215bf97006a7463a0a9c9876173c694ee4274
sha256 == 6fcd5977f66f3c0fde3a8ead5e1a7ce8a901c13413b5c7330601bc9bcdb10a5f
prepend 9f0b3ab380760f32613d1757c35ebf55e8fdaf9f2c2cbe3c56aa00fe5f743eb0 == 9f0b3ab380760f32613d1757c35ebf55e8fdaf9f2c2cbe3c56aa00fe5f743eb06fcd5977f66f3c0fde3a8ead5e1a7ce8a901c13413b5c7330601bc9bcdb10a5f
sha256 == f025c39ea999548ca05b7a5d8bac724aaed0353c8a1e6648604e31e1fa8950f6
sha256 == 5a21e3e2276e21904d50a6384c0e35ce66663b52e2192ca923c476a0bc655461
prepend 82edea6ac21093305e010b9bb57816964cbe1865a70d5ff1e48719d4928b08f8 == 82edea6ac21093305e010b9bb57816964cbe1865a70d5ff1e48719d4928b08f85a21e3e2276e21904d50a6384c0e35ce66663b52e2192ca923c476a0bc655461
sha256 == 3a0ce6505094e74e7b1089823ef941708d7769b3bc1a1a55a2615f58798b884b
sha256 == daa33c78a9d1ffef9dd101e3a1b6fffc50d560a34474b44374ccf897792274cb
prepend 65b3153ec014e07340762af60947e795a46e96f4383e326fd553a3d03a4fbb57 == 65b3153ec014e07340762af60947e795a46e96f4383e326fd553a3d03a4fbb57daa33c78a9d1ffef9dd101e3a1b6fffc50d560a34474b44374ccf897792274cb
sha256 == 70c47061e4f3c3f7c1cdeec1bd0203f063b93a925de3a3c6525ee8b264752a0b
sha256 == b1b7ffdaacb4994e7b281475948a53296b32bca5ee9bfc4cad85ff10712a002a
append ca7a9cdfbf53b561f97cf8cfcd28441fdd891304d27ec0316077574b9a22dbdb == b1b7ffdaacb4994e7b281475948a53296b32bca5ee9bfc4cad85ff10712a002aca7a9cdfbf53b561f97cf8cfcd28441fdd891304d27ec0316077574b9a22dbdb
sha256 == 4850a598c5e60db94e122ee2d49023d180625236ef42d360c18cda7fdd81cb09
sha256 == e4cffd615eb4fe51eb6d4274583d276697c9a1e16464a25fb2b4c8b3b23a734d
prepend 97e12d7ad3afcb3f7f1e8f0992755a24c434becb4e044685069cd645fa26bd27 == 97e12d7ad3afcb3f7f1e8f0992755a24c434becb4e044685069cd645fa26bd27e4cffd615eb4fe51eb6d4274583d276697c9a1e16464a25fb2b4c8b3b23a734d
sha256 == 72914e34b7f586e506d88ec1123db58427b424aa35948af7e6b126b8916f9ce3
sha256 == bddc4901eed2ea4555936bd22c854bce439370f0b8d3aef4a4d6c5cf6f24e71a
append b559e1be99b73799e43d8c3f806cafe0a15261a219c197b49ab5a28149d34cc3 == bddc4901eed2ea4555936bd22c854bce439370f0b8d3aef4a4d6c5cf6f24e71ab559e1be99b73799e43d8c3f806cafe0a15261a219c197b49ab5a28149d34cc3
sha256 == fa254478f52354851fb608afeb6659a0d8651145e8206ddf60a187a9011d7642
sha256 == 7c0550dbcc7fc67bc76f4b7252dc7c8062d2ac17b9276511b6bae5a7763615b9
prepend da7d4268e745b85973740b40ffb71178e7dc34cccd0e87da5d9ac6a92bbf50b1 == da7d4268e745b85973740b40ffb71178e7dc34cccd0e87da5d9ac6a92bbf50b17c0550dbcc7fc67bc76f4b7252dc7c8062d2ac17b9276511b6bae5a7763615b9
sha256 == e2e6899c4d9735d0951b081f289eae9e149ac0908c670dd78b1a79d1989e0785
sha256 == 3f3846f5bae93aa9f79f66f54d21bf39a527d73ba41aad97469c4fd373e65517
append 38c206d73c5cd3d1188d6b5c1000d6d0c6dbad12f272b131cd0670855730edbc == 3f3846f5bae93aa9f79f66f54d21bf39a527d73ba41aad97469c4fd373e6551738c206d73c5cd3d1188d6b5c1000d6d0c6dbad12f272b131cd0670855730edbc
sha256 == 8016b067cf5840b6378e077bf7bbce1832e29f41d5f4d9452a94ad059a54e0e3
sha256 == 26ae3194ee099b32038ae209cf36c1162eaf8d6873c5201909b4794de14120d0
append 8b08935599f2385da266d416aaaf0ba463c7b7f9e3f64af0a1a969a262a8abb5 == 26ae3194ee099b32038ae209cf36c1162eaf8d6873c5201909b4794de14120d08b08935599f2385da266d416aaaf0ba463c7b7f9e3f64af0a1a969a262a8abb5
sha256 == 5a0c12c1d39b10ffa8ce29c142bbe2aca0fb760034577b91fe6f6dc9249558e1
sha256 == 464d88c08655472066a83c4c648836f7ecddead4b2b085794045aa4eb0df66ac
append 5653963194dfae298f7f1bb4fd71c82d8616a29654fd59b861dce16e1d25bf35 == 464d88c08655472066a83c4c648836f7ecddead4b2b085794045aa4eb0df66ac5653963194dfae298f7f1bb4fd71c82d8616a29654fd59b861dce16e1d25bf35
sha256 == 14f3acbc0cb31aa957fa5926fc70d43f9054ebeef6f70bdf9ab2ef3d5458440e
sha256 == 404546bf6741c0615c8b62042add035db6a0f7de54954a8a1eb9c358e121699c
append 6fae019dce8a88c1c3264ceda7d146427d03fa01df475deaa1f8964d209f3f50 == 404546bf6741c0615c8b62042add035db6a0f7de54954a8a1eb9c358e121699c6fae019dce8a88c1c3264ceda7d146427d03fa01df475deaa1f8964d209f3f50
sha256 == 2255b71ca29230a1f1967488b69d6370633f62a3b00c76428f070328bf24f70a
sha256 == 7d65f7ae3b593c147100e2a805542cde245922b5f16f76dcf636718fbc5fc7c0
prepend bc7ffe58232456f8575de252f84feb723aac3bc1a701a90132cab08bf0d446c0 == bc7ffe58232456f8575de252f84feb723aac3bc1a701a90132cab08bf0d446c07d65f7ae3b593c147100e2a805542cde245922b5f16f76dcf636718fbc5fc7c0
sha256 == 62174f60e1dd3da8fdf392c6d781381189e06880ca55fda38690506446d4da84
sha256 == c55a45ca2bf34c3354dd64776a15807b1a9761f48099003a079cd1b7d3a6b4ef
verify BitcoinBlockHeaderAttestation(421439)
# Bitcoin block merkle root efb4a6d3b7d19c073a009980f461971a7b80156a7764dd54334cf32bca455ac5
```
OpenTimestamp proof info receipt.ots on [web visualizer](https://opentimestamps.org/info.html?ots=004f70656e54696d657374616d7073000050726f6f6600bf89e2e884e892940108bdf8c9bdf076d6aff0292a1c9448691d2ae283f2ce41b045355e2c8cb8e85ef2f120bdf8c9bdf076d6aff0292a1c9448691d2ae283f2ce41b045355e2c8cb8e85ef208f120cb0dbbedb5ec5363e39be9fc43f56f321e1572cfcf304d26fc67cb6ea2e49faf08f020cb0dbbedb5ec5363e39be9fc43f56f321e1572cfcf304d26fc67cb6ea2e49faf08ff00687fe3fe795e9a0d20f3be82fe1b5d8f18e009cb9a491781289d2e01678311fe2b2e4e84381aafadeef0a50101000000015cd30d6bc9b8e7a92d97e011b356b09cf7306a331c8ad63605dee4776c144c9d010000006b48304502210096811a70446463269e5d258267777f1b1e8ffe9c1965866bfd1a6c0250777c9c022049b5004a006e181fc92314ede95f3761a86831c5f99937465d99de6d14388b870121035b690114679d44d75b75aa170e34596c94c778f589bcb9063b0e4e293fcacd1dffffffff020000000000000000226a20f126cd996e00000000001976a9147003cc5915f6c23fd512b38daeeecfdde7a587e988ac000000000808f1209f0b3ab380760f32613d1757c35ebf55e8fdaf9f2c2cbe3c56aa00fe5f743eb00808f12082edea6ac21093305e010b9bb57816964cbe1865a70d5ff1e48719d4928b08f80808f12065b3153ec014e07340762af60947e795a46e96f4383e326fd553a3d03a4fbb570808f020ca7a9cdfbf53b561f97cf8cfcd28441fdd891304d27ec0316077574b9a22dbdb0808f12097e12d7ad3afcb3f7f1e8f0992755a24c434becb4e044685069cd645fa26bd270808f020b559e1be99b73799e43d8c3f806cafe0a15261a219c197b49ab5a28149d34cc30808f120da7d4268e745b85973740b40ffb71178e7dc34cccd0e87da5d9ac6a92bbf50b10808f02038c206d73c5cd3d1188d6b5c1000d6d0c6dbad12f272b131cd0670855730edbc0808f0208b08935599f2385da266d416aaaf0ba463c7b7f9e3f64af0a1a969a262a8abb50808f0205653963194dfae298f7f1bb4fd71c82d8616a29654fd59b861dce16e1d25bf350808f0206fae019dce8a88c1c3264ceda7d146427d03fa01df475deaa1f8964d209f3f500808f120bc7ffe58232456f8575de252f84feb723aac3bc1a701a90132cab08bf0d446c00808000588960d73d7190103bfdc19)
```
https://opentimestamps.org/info.html?ots=004f70656e54696d657374616d7073000050726f6f6600bf89e2e884e892940108bdf8c9bdf076d6aff0292a1c9448691d2ae283f2ce41b045355e2c8cb8e85ef2f120bdf8c9bdf076d6aff0292a1c9448691d2ae283f2ce41b045355e2c8cb8e85ef208f120cb0dbbedb5ec5363e39be9fc43f56f321e1572cfcf304d26fc67cb6ea2e49faf08f020cb0dbbedb5ec5363e39be9fc43f56f321e1572cfcf304d26fc67cb6ea2e49faf08ff00687fe3fe795e9a0d20f3be82fe1b5d8f18e009cb9a491781289d2e01678311fe2b2e4e84381aafadeef0a50101000000015cd30d6bc9b8e7a92d97e011b356b09cf7306a331c8ad63605dee4776c144c9d010000006b48304502210096811a70446463269e5d258267777f1b1e8ffe9c1965866bfd1a6c0250777c9c022049b5004a006e181fc92314ede95f3761a86831c5f99937465d99de6d14388b870121035b690114679d44d75b75aa170e34596c94c778f589bcb9063b0e4e293fcacd1dffffffff020000000000000000226a20f126cd996e00000000001976a9147003cc5915f6c23fd512b38daeeecfdde7a587e988ac000000000808f1209f0b3ab380760f32613d1757c35ebf55e8fdaf9f2c2cbe3c56aa00fe5f743eb00808f12082edea6ac21093305e010b9bb57816964cbe1865a70d5ff1e48719d4928b08f80808f12065b3153ec014e07340762af60947e795a46e96f4383e326fd553a3d03a4fbb570808f020ca7a9cdfbf53b561f97cf8cfcd28441fdd891304d27ec0316077574b9a22dbdb0808f12097e12d7ad3afcb3f7f1e8f0992755a24c434becb4e044685069cd645fa26bd270808f020b559e1be99b73799e43d8c3f806cafe0a15261a219c197b49ab5a28149d34cc30808f120da7d4268e745b85973740b40ffb71178e7dc34cccd0e87da5d9ac6a92bbf50b10808f02038c206d73c5cd3d1188d6b5c1000d6d0c6dbad12f272b131cd0670855730edbc0808f0208b08935599f2385da266d416aaaf0ba463c7b7f9e3f64af0a1a969a262a8abb50808f0205653963194dfae298f7f1bb4fd71c82d8616a29654fd59b861dce16e1d25bf350808f0206fae019dce8a88c1c3264ceda7d146427d03fa01df475deaa1f8964d209f3f500808f120bc7ffe58232456f8575de252f84feb723aac3bc1a701a90132cab08bf0d446c00808000588960d73d7190103bfdc19)
```